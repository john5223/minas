10:51 John1a: Vimes: Yes, it should, but on those days, it does not
10:52 John1a: Vimes: Using just RTH, I don't have any issues either
10:53 JohnnyQuotron: I spent a couple of hours yesterday working in the Options Section of the OneNote.  I am doing my best to segregate true Options scripts from Volatility scripts.  Please be patient, these is a great deal of duplication in the Options Section and I am cleaning it out using the notepad++ compare addon.
10:54 JoshuaK: Nube, take for example the VWAP
10:54 JoshuaK: study if you go into the thinkscript, tehre are multiple values defined, price, vwap, pricesum etc.
10:54 Vimes: John, what is it you want? in your mind should vwap start at US RTH regardless of your settings?
10:55 JoshuaK: when you add the VWAP to the column, it gives you the actual VWAP value
10:55 MTS1: I have you the answer already Josh; reduce to one plot
10:55 JoshuaK: oh ok
10:55 JoshuaK: so when i reduce to one plot, the study automatically knows what to return?
10:56 MTS1: also really not realize specifically to VWAp; there's also a vwap fundamental price value that's used in but otherwise not related to the study
10:56 MTS1: yes try it Josh
10:56 Vimes: With globex, vwap starts at globex session
 
10:57 JoshuaK: will do
10:57 JoshuaK: thanks MTS1
10:57 MTS1: yw
10:58 Mobius: We've turned into support. Does that increase TDA bottom line?
10:58 John1a: Vimes: Is your "Adjust for contract change events" selected?
11:00 JohnnyQuotron: Mobius... it was many tractor trailers of JD ago, but in Oct 2013 you composed a script titled "Implied Volatility and RSI Combined Signal".  Was that intended as an example of a CSA script?  Which OneNote section would you recommend that I place it in?
11:01 Mobius: If you can remind me what I had for dinner last night I might recall that too
11:02 Vimes: John, no, but you can play with the different settings, and if its important there is an interanl vwap reference where you can roll your own for whatever it is your looking for
11:02 trader_s: is it possible to increase the font size on AddLabel  script ?? Thx
11:03 Mobius: no trader it's not
11:03 JohnnyQuotron: Mobius...thins may jog the little gray cells
11:03 trader_s: thx Mobius
11:03 Mobius: post the code Johnny
11:04 JohnnyQuotron: # Mobius©:Sat Oct-19-2013

# Implied Volatility and RSI Combined Signal
# Mobius
# V01.10.2013
declare lower;
input length = 21;
Assert(length > 0, "'length' must be positive: " + length);
   def IV = if isNaN(imp_volatility(period = AggregationPeriod.DAY))
            then IV[1]
            else imp_volatility(period = AggregationPeriod.DAY);
def price = close * IV;
def r = (price - price[1]) / ( (price + price[1]) / 2 );# difference divided by the average price
def SDr = StDev(r, length);
plot IVSwitch = ( fold i = 0 to length 
                          with count 
                          do count + if SDr[i] <= SDr 
                                     then 1 
                                     else 0 ) / length;
plot MidLine = 0.5;
IVSwitch.DefineColor("Trending", Color.UPTICK);
IVSwitch.DefineColor("Mean-Reverting", Color.DOWNTICK);
IVSwitch.AssignValueColor(if IVSwitch >= MidLine 
                          then IVSwitch.Color("Mean-Reverting") 
                          else IVSwitch.Color("Trending"));
MidLine.SetDefaultColor(GetColor(7));
# RSI Wilder with Divergence Markers
input nRSI = 14;         #hint nRSI: RSI periods
input nTrend = 100;      #hint nTrend: RSI Trend Line periods
input over_Bought = .70; #hint over_Bought: Over Bought Line
input over_Sold = .30;   #hint over_Sold: Over Sold Line
input TrendLine = {EMA, SMA, default LRL, WMA};
input AlertOn = yes;
   def o = open;
   def h = high;
   def l = low;
   def c = close;
   def NetChgAvg = WildersAverage(c - c[1], nRSI);
   def TotChgAvg = WildersAverage(AbsValue(c - c[1]), nRSI);
   def ChgRatio = if TotChgAvg != 0 
                  then NetChgAvg / TotChgAvg 
                  else 0;
  def RSIdata = 50 * (ChgRatio + 1) ;
  plot RSI = (RSIdata - LowestALL(RSIdata)) / 
             (HighestAll(RSIdata) - LowestAll(RSIdata));
  plot OverSold = over_Sold;
  plot OverBought = over_Bought;
  plot RSItrend;
  switch (TrendLine) {
  case EMA:
       RSItrend = ExpAverage(RSI, nTrend);
  case SMA:
       RSItrend = Average(RSI, nTrend);
  case LRL:
       RSItrend = InertiaAll(RSI, nTrend);
  case WMA:
       RSItrend = WMA(RSI, nTrend);
}
   def lowestLow = if RSI > over_Sold
                   then l
                   else if RSI < over_Sold and 
                           l < lowestLow[1]
                   else lowestLow[1];
   def lowestRSI = if RSI > MidLine
                   then RSI
                   else if RSI < MidLine and 
                           RSI < lowestRSI[1]
                   else lowestRSI[1];
   def divergentLow = if RSI < over_Sold and
                         l <= lowestLow[1] and 
                         RSI > lowestRSI[1]
                      then over_Sold
                      else Double.NaN;
  plot DLow = divergentLow;
       DLow.SetPaintingStrategy(PaintingStrategy.POINTS);
       DLow.SetLineWeight(2);
       DLow.SetDefaultColor(Color.YELLOW);
   def highestHigh = if RSI < over_Bought
                     then h
                     else if RSI > over_Bought and 
                             h > highestHigh[1]
                     else highestHigh[1];
   def highestRSI = if RSI < MidLine
                    then RSI
                    else if RSI > MidLine and 
                            RSI > highestRSI[1]
                    else highestRSI[1];
   def divergentHigh = if RSI > over_Bought and
                          h >= highestHigh and 
                          RSI < highestRSI
                       then over_Bought
                       else if RSI < over_Bought and 
                       c < o
                       then Double.Nan
                       else divergentHigh[1];
  plot DHigh = divergentHigh;
       DHigh.SetPaintingStrategy(PaintingStrategy.POINTS);
       DHigh.SetLineWeight(2);
       DHigh.SetDefaultColor(Color.YELLOW);
       RSI.DefineColor("OverBought", Color.Plum);
       RSI.DefineColor("Normal", Color.White);
       RSI.DefineColor("OverSold", Color.Yellow);
       RSI.AssignValueColor(if RSI > over_Bought 
                            then RSI.Color("OverBought") 
                            else if RSI < over_Sold 
                            then RSI.Color("OverSold") 
                            else RSI.Color("Normal"));
       OverSold.SetDefaultColor(Color.BLUE);
       OverBought.SetDefaultColor(Color.BLUE);
   def AlertCond1 = RSI crosses RSItrend;
  plot Bcond1 = if IVSwitch crosses below overBought within 2 bars and 
                   RSI > RSI[1]
                then OverSold
                else Double.NaN;
       Bcond1.SetPaintingStrategy(PaintingStrategy.Arrow_Up);
       Bcond1.SetLineWeight(3);
       Bcond1.SetDefaultColor(Color.Green);
  plot Bcond2 = if isDescending(IVSwitch) and 
                   isAscending(RSI) and
                   RSI crosses above RSItrend
                then RSItrend 
                else Double.NaN; 
       Bcond2.SetPaintingStrategy(PaintingStrategy.Arrow_Up);
       Bcond2.SetLineWeight(2);
       Bcond2.SetDefaultColor(Color.Light_Green);
  plot Scond1 = if IVSwitch > IVSwitch[1] and
                   RSI crosses below overBought
                then overBought
       Scond1.SetPaintingStrategy(PaintingStrategy.Arrow_Down);
       Scond1.SetLineWeight(3);
       Scond1.SetDefaultColor(Color.Red);
  Alert(AlertCond1, "RSI crossed RSI Trend Line", Alert.Bar, Sound.Bell);
# End Code IV and RSI Combined Signal
11:04 AlphaInvestor: I would create a separate section for Combined Signal Apporach scripts
11:05 Mobius: Johnny that study is Not a CSA. Price is altered using IV which would cause it to run faster in higher volatility and slower in lower
11:06 JohnnyQuotron: Alpha... I would like to do that if only to attract more over time
11:07 Mobius: A better approach would be to alter the length for RSI using Series IV which we didn't have when that study was written
11:09 JohnnyQuotron: Sounds like a worthwile project for someone more advanced than I.  
11:09 JohnnyQuotron: I will plce the script in the RSI section as opposed to volatility unless you reccomend differently.
11:10 Mobius: That works for me
11:11 Mobius: To alter length using IV is pretty straight forward. Normalize IV to a useful RSI lenght.
11:11 JohnnyQuotron: Thank you.  You are the best!  By the way this morning I picked up Lobster Rolls for my wife and for lunch today.  Its Stone Crab season but with the Red Tide ???
11:12 Mobius: yeah   that whole red tide thing makes seafood a bit risky
11:13 Mobius: That storm hasn't helped either
11:13 Vimes: Did alot of random coding over the weekend and wanted to share this based on a TASC article around fractal efficency, the backtesting looked somewhat encouraging so thought i'd share with the group:
#Polarized fractal energy strat
#Hans Hannula TASC V12.1
#"PFE tends to have a maximum efficiency of about 43%, either going up or down. This has been found to be true for all stock indices. Other stocks and commodities tend to have slightly different maximums, but the maximum has always been observed. Also note that the transition from trending up to trending down is usually smooth. However, the efficiency may bounce off the zero line or oscillate around it for a time. This middle region is a balance of supply and demand and, thus, a congestion point." -- Hans Hannula
#Version 1
#Study Name Short PFE_Strat 
#Date: 2018/10/21
#Coded in TOS by Vimes
input length = 10;
input smooth = 5;
input UpperBand = 50; #hint UpperBand: Efficiency Upperband, experiement with different triggers (43,50,60,etc);
input LowerBand = -50;
input BuyOnLowerCross = no; #hint BuyOnLowerCross: If "yes" buys on the cross above the lower band (not reccomended).  If no buys on the cross of the upper band (this is reccomended).  Sells are then opposite w.r.t to the lower band
input reverse = no; #hint reverse:Reverses the buy sell signal for the contrarian in you
input osize = 5;
def A = Sqrt(sqr(close - close[length-1]) + sqr(length));
def B = Sum(Sqrt(sqr((close - close[1])) + 1), length);
def FE = If(close - close[length-1] > 0, A/B*100 , -A/B*100);
def FE_EMA = ExpAverage(FE, smooth);
def long_ = If(FE_EMA crosses above If(BuyOnLowerCross, LowerBand, UpperBand), 1, 0);
def short_ = If(FE_EMA crosses below If(BuyOnLowerCross, UpperBand, LowerBand), 1, 0);
def long = If(short_ and reverse, 1, If(long_, 1, 0));
def short = If(long_ and reverse, 1, If(short_, 1, 0));
AddOrder(condition = long, tradeSize = osize, tickcolor = Color.CYAN, arrowcolor = Color.CYAN, name = "PFE:LE");
AddOrder(tradeSize = osize, tickcolor = Color.LIGHT_RED, arrowcolor = Color.LIGHT_RED, name = "PFE:SE", condition = short, type = OrderType.SELL_AUTO);
11:14 Mobius: Apalach.. Is looking at a possible loss for the oyster industry for decades to come
11:19 Ariana3: Mobius: Do you have a script that plots the third moment of volume distribution?
11:20 Mobius: When you read Mandelbrot's work and look at his set you come away with the idea he'd have much more likley wanted to measure the edges of price and find a predictive value along those edges than the PFE indicator that carries the notion of his work.
11:21 Mobius: Ariana... Why?
11:21 Ariana3: Because it is very useful to know the skew.
11:22 JohnnyQuotron: Naples/Ft.Myers may lose the entire 2018 StoneCrab season. But likely just this one.  
11:22 Mobius: Why didn't you just ask for skew. I'm not easily impressed
11:22 Vimes: If i undersood the premis correctly it is in that the author was trying to measure the edges in ratio to the straight line trend as a measure of "ease of movement" if you will
11:24 Mobius: Vimes  Where in those calculations do you see that??
11:25 Ariana3: Not trying to impress...because it seems  that the third volume of the volume distribution is a better way of doing it, but it seems that it cannot be done in TOS, because the profile is locked
11:25 Vimes: The numerator A was supposed to be this approximation - vs the straigt line B
11:26 Ariana3: VWAP + (SKEW * SD)
11:28 Ariana3: Something like this: CM3 = sum (PROBI * (Pi - VWAP) ^ 3
11:30 Mobius: Ariana.. 
# Volume Skew
# Chat room request 10.22.2018
plot Data = Power(volume - average(volume, 60), 3) / 
           Sqrt(Power(Sqr(volume - Average(volume, 60)), 3));
11:32 Ariana3: Where “i” is going through all prices in range (i.e., all rows in Volume Distribution Function), CM3..the 3rd Central Moment, PROBI = Vi/V…its price probability (Volume per its price / Total Volume), Pi…the price in the Volume Distribution function…Then the Skew would be Skew = CM3 / SD^3
11:33 Mobius: Vimes - Have you ever looked at PFE and FE side by side?
11:36 Vimes: You have me at a disdavantage because i don't know where you are going, and you are likely much smarter than me, but if you are sayign the fractal efficency in reference versus fractal energy i would think they are quite different
11:37 Mobius: Vimes  Take a look and don't guess.. 
11:37 Mobius: You've got a good head for math.  What do you see?
11:41 Vimes: I would say it is almost trying to estimate the slope of the edge, except in that in the fractal energy case it is taking each against a ratio of the true range which i don't quite visualize
11:48 Mobius: Yep very close.. FE does a better job of showing when price is linear since it converts it to a log value.  If Mandelbrot were to start with those two my feeling is he'd use the FE as a central limit and PFE or some other measure of fractal length to determine how far price is traveling to make a predetermined fixed measure over a predetermined fixed length of time. 
11:48 Mobius: The half life of price movement through the fractal range if you will
11:49 Vimes: i guess to take a leap FE seems to be summing the true range over the period (which i'm not sure why it would seen to be an additive property) and taking the current periods high/low range as a ratio to this.  It would almost assume that each rangeis pure momentum versus the actual meausred range
11:52 Mobius: What we do know is any notion that price can be predicted from any use of a normal distribution is flawed.
Therefore price is always random. How do you measure random?
11:52 Vimes: so i guess in that way as you say it saying how much of the current high low range is a perfect linear trend on the A to B distance, i think i can see that
11:52 Mobius: yes
11:53 Mobius: Or at the very least  Random With Drift
11:54 Mobius: Worthless information for traders. Very useful for investors
11:54 Nube: I guess this means a Mandelbrot isn't a musical instrument...
11:54 Mobius: ha
11:55 AlphaInvestor: a musical instrument that hits random notes ... but in a repeating self-similar series
11:56 Vimes: so geometrically its saying estimate a triangle that woudl assume each true range over the period is positive so what woudl the maxium be so to speak, and the estimating the "real" observed Ya to Yb as a ratio to tis perfect triangle
11:56 Mobius: lol  that's pretty good Alpha
11:57 Mobius: Vimes.. I don't know if that would work. I've been trying to find a useful method for quite a while. And so far no joy. But as far as math and the market is concerned, to me that is the grail.
11:58 FrankB3:   Mr. Mo:: was that your idea putting the FE with the RSI LaGeaure???
11:58 Mobius: Problems Solved:
Linear estimating
True Momentum
Price Path prediction
Investment Moment
11:58 AlphaInvestor: The best way that PFE was described to me was - the ratio of a straight line direction to get from point A to Point B ... to the way that Price ACTUALLY got from Point A to Point B
11:59 Nube: Alpha, Thanks. I have a new respect for Yoko Ono now.
11:59 Mobius: Frank - yes
12:00 _Coleman_: Is it possible to write a script that will alert or scan  when a candle closes above the Kijun on the Ichimoku Cloud. 
12:00 Vimes: bless you
12:00 AlphaInvestor: Coleman - yes
12:00 Ariana3: I saw a t-shirt yesterday, "Still Hate Yoko" :)
12:01 Vimes: I think JNJ sells a cream if you've got Ichimoku
12:02 Nube: Judging by how many requests we've had lately, buy JnJ
12:07 Vimes: Coleman, i don't use the cloud but something like this might work or there maybe is a built in scanner
plot scan = close crosses above Ichimoku().Kijun;
12:09 Nube: Getting back to the side tracked discussion, does that mean we may want to account for fractal energy in the fractal efficiency?
12:10 Vimes: boom
12:11 Mobius: Coleman
# Scan - Comment out (#) the one you don't want
Ichimoku()."Kijun" crosses above MAX(Ichimoku()."Span A", Ichimoku()."Span B")
# Ichimoku()."Kijun" crosses below Min(Ichimoku()."Span A", Ichimoku()."Span B")
12:16 _Coleman_: Thanks as always.
12:16 Vimes: another happy customer
12:20 Nube: I wish you smart people would hurry up and solve markets for me already. I'm sitting here looking and breadth and volatility and means and monthly charts when you could just supply me with an indicator
12:23 Nube: All I want to do is type VZ or whatever in the ticker box and have the lower panel display a big Buy, Sell or Hold
12:25 Vimes: lol
12:27 Vimes: VZ, holding up well btw, but who the heck nows
12:27 Nube: Disclosure: Author does have a position in the above ticker by way of ETF and intends to initiate another
12:28 Nube: That was the first ticker that came to mind because I was just taking another look at it. Max Monthly view that thing is a monster
12:34 Vimes: addlabel BUY VZ
12:35 AlphaInvestor: AssignBackgroundColor(col.rgreen);
12:36 Vimes: i wonder how much impact the reshuffling into the XLC sector is having on rotatino into names like DISCA and VZ over google, nflx, etc
12:37 Nube: Fair question, Vimes. Sort of wonder the same about FB as well.
12:38 Vimes: i think the secotr is getting a lift because funds have to then put there money in the other names, maybe?
12:38 Nube: It's not a new thing so I imagine Funds have been positioning for a long time
13:24 JohnnyQuotron: Mobius/Vimes.. I just read your FE PFE exchange for the third time.  How do I get my eyes uncrossed ?  Where is the Dramamine?  But if there is something there for investors.. can you dumb it down for me a bit please...
13:26 Vimes: i think for investors ignore both and buy AAPL?
13:27 Nube: Not trying to pretend I understand  fractals, polarizing stuffs or efficiency, but doesn't the cross of zero make more sense than using an EMA?
13:29 Nube: AAPL has had a bit too much volatility up here for my tastes. Not touching it.
13:30 Nube: But certainly wouldn't short a cash machine that has a heretofore untouchable lead position in brand and product quality
13:30 Vimes: it maybe is the last mand standing but one of the few holding the quarter, if it goes we might be in trouble
13:31 Nube: With AAPL being like 6 percent of the index or whatever, if it goes the index doesn't have a choice
13:44 Nube: I haven't figured out what it is yet, but there is something about stock price behavior around earnings that causes those tickers to come up in my scans more often
14:12 Nube: See y'all later. Time to get some sunshine.
14:14 JohnnyQuotron: Nube... thanks a million.  Enjoy your afternoon.
14:14 ittechman: How do I create a stock scan that finds stocks that are trading in a range? Thank you!
14:19 MTS1: IT; what range?
14:21 ittechman: Lets say from 90.00 to 100.00 as an exammple..
14:21 MTS1: Dollars?
14:21 Farmin: for how long?
14:21 MTS1: you can type that directly in the scanner
14:23 MTS1: Look up the chapber on stock hacker in the tutorials in tlc.thinkorswim.com
14:24 MTS1: add filter for stock - close - set min and max.
14:24 Vimes: Mobius had a great scan that id's stocks in a range, let me see if i can find it, there are also several methods to do this, without a specifying a price range
14:26 MTS1: Depends on what he is looking for.
14:26 ittechman: VImes, yes that would be much better, to be able to do it without specifyng a range!!!! That is exactly what I am looking for!
14:27 MTS1: It depends how you define a range; many TA ways of doing this. You can look for BB contractoin, ADX, ECI, Fractal Pivots, and I'm sure there's more;)
14:27 Vimes: This should id stocks trading in a consolidatino pattern:
# Consolidation Scan
# 5.2.2017
# If you want  relatively short term consolidation leave the 
# lengths at 10 and use a daily scan. For a bit more consolidation 
# make lengths 13 and if you want equities that have been in 
# consolidation for a long time use a monthly scan
 (Log(Sum(Max(high, close[1]) - Min(low, close[1]), 10) / 
     (Highest(high, 10) - Lowest(low, 10))) / 
      Log(10)) > .7
14:27 ittechman: There are some stocks that trade in a range over and over again, that scan will be a wonderful tool!!!!!!!
14:27 Farmin: you always have to specify a range, even with that code
14:28 Vimes: Another one that i used in the past is the aroon oscillator
#
def consolidation = (AroonIndicator() < 30 and AroonIndicator().Down < 30) within 6 bars;
def breakout = sum(AroonIndicator(),3)> 3*90 and aroonIndicator().down < 30;
plot cond = consolidation and breakout;
14:28 Farmin: if you don't understand the range part of that code, get out a calculator
14:32 ittechman: Thank you all VERY MUCH!!!!!!!
14:41 ittechman: Are there other scans, like for stock that are just breaking out after a consolidation?
14:43 Vimes: i'm sure there are dozens of options, you can look at some of the linear channel breakouts that are built ino the scanner already as an example
14:43 Vimes: you can look fro break of prior highs, on an on
14:49 ittechman: Thank you!!!!!!!
15:04 AlphaInvestor: AMTD beat E, beat R - must be our fine support in this chat room  ;-)
15:09 Vimes: yeah free lifetime trades all around!!
15:10 MTS1: ha; don't think that's how they plan to continue beating;)
15:10 Vimes: it's a trend that's coming, eventually
15:44 Nube: Flood of new customers since the release of the Fundamental Data to ThinkScript
15:46 Nube: 1d34: That means idea and that I'm hip. The concept of splitting good volatility from bad volatility - has anyone tried looking at agreement between price and volatility? In other words, if both are up or both are down, that's good volatility.
15:51 Vimes: i've seen studies between historical and implied volatility, not that i'd want to call one good or bad
16:06 Vimes: I guess to tie it back to teh FE study if all the volatility is tied to directinoal movement you are going to see the FE move lower in value, versus if the volatility is non directional (bad?) you will see the value rise into chop or "in efficient" action
16:11 AlphaInvestor: Nube - idk, I was always under the impressions that IV and price went in opposite directions most times.
16:12 AlphaInvestor: I have done a few correlation studies between HV and IV, both with and without lags (because IV is meant to represent volatiltiy about 1 month out). The correlations are never good.
16:20 JohnnyQuotron: alpha.. a question or 2 regarding IV?
16:20 AlphaInvestor: sure
16:21 JohnnyQuotron: IV is meant to represent volatility a month out?  
16:21 JohnnyQuotron: Please be more specific, I am not following that.  (not intended to be a trick question) but with the advent of weeklies..
16:22 AlphaInvestor: IV in TOS uses the same formula that the VIX uses. it is a complex calculation using implied voltiltiies from a number of expirations and is meant to represent the IV approximately 1 month out.
16:22 AlphaInvestor: http://www.cboe.com/products/vix-index-volatility/vix-options-and-futures/vix-index/the-vix-index-calculation
16:22 Nube: To me, comparing IV to HV does a pretty good job of proving that what the market agrees is going to happen cannot happen.
16:23 Nube: Well, totally can but for a reason the market didn't think of.
16:24 AlphaInvestor: I know a guy who did a study that looked at putting IV bands around price ...and seeing how often the price stayed inside ... that guy was pretty smart
16:24 AlphaInvestor: that had lags too
16:25 JohnnyQuotron: follow on question to make certain i understand.... tos IV takes into account multiple futures expirations rather than just the IV of the most current ATM put and call?
16:26 AlphaInvestor: Here is the generalized (I assume they mean simplified) version of the VIX calculation
16:27 AlphaInvestor: JQkpa - definitietly, in fact, if closer than 7 days, it ignores the front week volatiltiy altogether I believe
16:30 JohnnyQuotron: I got curious this afternoon about the Gaussian RSI-L using inputs of 5, 13, 8 versus 8, 13, 4 or whatever.  So I put my Dr. Frankenstein mask on and put this monster together.  http://tos.mx/jclhlG#
16:32 AlphaInvestor: One requirement with the old VIX calculation was that it couldn�t use options with less than 7 days to expire.
The CBOE's new calculation always uses options that expire within a week of the VIX's 30 days.
16:33 JohnnyQuotron: And Tos's IV study has been rewritten to meet that change?  
16:34 AlphaInvestor: I believe we were told that at one time.  That change was a while back.
16:34 JohnnyQuotron: thank you.
16:35 AlphaInvestor: I don't know how they deal with options that only have Monthly's
16:36 AlphaInvestor: David Kier (the old Mr.Script) was good about telling us about the internal calculations of TOS, but he never let the Market Maker Move (MMM) out of the bag
16:36 JohnnyQuotron: By the way.. and this is not a solicitation as I am not asking for money.  I am upgrading my x99 motherboards and processors to the x299 series.  If anyone would like the x99 boards and processors for spare parts please let me know.
16:37 AlphaInvestor: Pop the TOS Imp_Volatiltiy up for an SPX chart.... and add the VIX to t he bottom. You should find them to be indentical
16:38 JohnnyQuotron: Alpha... I trust your volatility fetish.
16:39 AlphaInvestor: I haven't tested that in a while
16:40 MTS1: hm; calling it a fetish after asking for help lol
16:40 Vimes: bad vix, bad!!
16:41 JohnnyQuotron: fetish is a gentler term than addiction
16:41 Nube: Even if they're not exactly identical, I highly doubt they after effectively different.
16:42 JohnnyQuotron: One can certainly lose big money trading of of either.
16:42 AlphaInvestor: I have both a fetish, and an addiction to IV
16:43 JohnnyQuotron: but do you have negative XHB deltas?
16:46 AlphaInvestor: I probably should, to hedge my small biz
16:49 JohnnyQuotron: If I were only smart enough to craft a scan to identify trends relative to the SPY like that one.  I'd be ......
16:57 Ariana3: JohnnyQ: Very nice work, butit seems that price is rarely in a Gaussian distribution.
17:04 AlphaInvestor: that is Exactly why that study converts to Gaussian first
17:06 Ariana3: It would be interesting to see it without using arbitrary N numbers, 5, 13, etc. Can it  be done for a daily distribution using VWAP?
17:08 AlphaInvestor: JQ - my current desktop can be upgraded to any of these 3 processors
Intel Core i7 4770 (Haswell) 3.4 GHz Quad Core
Intel Core i7 4770K (Haswell) 3.5 GHz Quad Core
Intel Core i7 4790 (Haswell) 3.6 GHz Quad Core
Do we have a match?
17:12 JohnnyQuotron: is that an x99 board 2011-3 socket?
17:12 Nube: # attempting to split good and bad volatility
# first idea
# Nube 10.22.18
input n = 20;
script normalize {
    input h = high;
    input l = low;
    input c = close;
    input Length = 20;
    input AvgPeriod = 2;
    def ll    = Lowest(l, Length);
    def cll   = c - ll;
    def hhll  = Highest(h, Length) - ll;
    def norm  = if   hhll != 0
                then Average(cll / hhll, AvgPeriod)
                else norm[1];
    plot
    normalized = norm;
def p  = hl2;
def iv = if   !IsNaN(imp_volatility())
         then imp_volatility()
         else iv[1];
def y = normalize(p, p, p, n); # normalized HL2 between 0 - 1
def nIV = normalize(iv, iv, iv, n); #normalize VixFix betwen 0 - 1
def ivValue = if   nIV  > nIV [1]
               then 1
               else if   nIV  < nIV[1]
                    then 0
                    else ivValue[1];
def priceValue = if   y > y [1]
                 then 1
                 else if   y < y[1]
                      then 0
                      else priceValue[1];
plot line = Sum(ivValue == priceValue, n);
17:13 JohnnyQuotron: Go Nube.  I like volatility in the direction of my deltas
17:13 Nube: So the notes are from the script I took the snippets out of. That uses IV, not vixfix
17:14 Nube: Note on that is wrong.
17:14 slashgw: it's an interesting idea.  
17:20 Nube: Next I think an enterprising scripter should find a method to weight the vol of each bar.
17:21 slashgw: it's all you Nube!
17:21 JohnnyQuotron: alpha... i7-5930K  on an asrock Taichi x99 board for example
17:22 Nube: After that the should write a version that also plots the same for the index so you can compare against the benchmark
17:28 JohnnyQuotron: nube.. did you have the opportunity to poke around the profit/loss script ?
17:30 Nube: Not yet. Want to get into that when I can set some time aside for it. Don't want to try to fly through that one.
17:30 AlphaInvestor: JQ - no go for me, unless I replace my motherboard
17:31 JohnnyQuotron: Thank you.  I appreciate it.
17:32 AlphaInvestor: There is nothing BAD about volatiltiy going up when price falls ... it is what is expected
17:33 AlphaInvestor: more puts get bot, puts get more expensive ... no magic happens
17:34 JohnnyQuotron: Alpha..  understood.  But if you ever over overclock that MB/Processor let me know.  I will keep my extra hardware until my wife makes me clean out my office closet again.  She's a real slave driver like that .
17:36 AlphaInvestor: I just checked - IV of SPX and VIX are not identical, but very close
17:36 slashgw: maybe put them in a box labeled "Christmas fruitcake to be re-gifted"
17:38 AlphaInvestor: To answer a different query - XHB often correlates well with /LBS. The 10 day correlation is currently 85%, the 60 day correlation is 68%
17:38 Nube: Then instead of calling that line good volatility it can be bad volatility or abnormal volatility etc
17:39 AlphaInvestor: in the past 252 days VIX and SPX moved opposite 30% of the time ...
17:39 AlphaInvestor: I believe that is unusually large
17:41 AlphaInvestor: I keep a constant alert in MarketWatch Alerts for when SPX goes UP more than the ATR, and VIX also rises.
17:43 AlphaInvestor: And the reverse of that  .... I have only seen it trigger one time while I was logged into TOS
17:43 amalia: Don’t think it’s unusual
17:45 AlphaInvestor: that 30% probably isn't unusual, because SPX could have gone up a penny, and VIX gone up 0.01. The test needs to be more than just slight moves
17:46 slashgw: so maybe use % ?
17:46 AlphaInvestor: I used ATR in the MW Alert
17:47 AlphaInvestor: Well, I need to get home - dinner awaits - Later Traders
17:47 slashgw: or I mean, base it on a % increase across both, after determining what previous normals/extremes were.
17:47 JohnnyQuotron: later Alpha...fly safe
17:47 slashgw: just throwing stuff out there, I do not consider myself a propeller head with regard to that stuff
18:17 trader1023: Anyone have any ideas how to script up a calculation of a implied open? I can't even find starting blocks like fair value.
18:22 Nube: How do you calculate fair value?
18:24 slashgw: a comparison against whatever the futures index is currently at?
18:26 slashgw: would probably need more of an example how trader plans on using it.  and with what instruments?
18:26 Mobius: Fair Value = CashIndx(1+interstRate(DTE/360))-DivToEXP
18:28 Mobius: If your looking for an arbitrage opportunity forget it. MM's cover that in about 5/100 seconds of the open.
18:29 trader1023: I was just hopeing to calculate the implied open of the corresponding, so for example use /ES and work out the implied open for SPY
18:30 trader1023: But it is a lot to go and get all the dividends for all the components of the SPY etc. and was hoping that ThinkScript had some bits that might help
18:30 Nube: I dunno fellas, but I think the abnormal vol thing might be worth exploring. If we get price with 1 SD we get an event that happens 38% of the time
18:31 Nube:   
18:31 Nube: /es and /nq 5 years daily
18:39 Mobius: trader - maybe this will help you
1 E-mini SP 500 index contract = 500 SPY shares.
1 E-mini SP500 Point = .10 SPY cents.
1 E-mini SP500 Point is $50.00 = .10 SPY cents (times 500 shares) is $50.00 .
18:41 trader1023: Hmm OK. But there is a difference right cause it is a future so needs to include dividend and interest etc. right?
18:42 trader1023: Might be nice to start with a study that just does what you did and plots that on top of SPY for open based on the /ES
18:45 JohnnyQuotron: Mobius.. time for a twenty second teach-in regarding the RSI Laguerre Gaussian version?
18:47 JohnnyQuotron: inputs of 5, 13, 8 versus 8, 13, 4 what are we looking for or hoping to learn when we make that adjustment?
18:49 Nube: How is the implied open for /es determined?
18:50 trader1023: Prior Day Closing + (Futures Value - Fair Value)�
18:51 slashgw: is there an = somewhere?
18:52 slashgw: ah, nevermind.  see Nube's question now
18:52 Nube: I'm confused, what's the future for /ES?
18:53 DMonkey: It’s only fair if it goes my way.
18:54 Nube: Let's assume you mean SPY. SPY closed at 275 so it's 275 + (/ES - FairValue)
18:55 Nube: Next step is do you use teh RTH close value for /ES or whatever the current price is?
18:56 trader1023: Nuve, Yeh so just need to calculate FairValue which is the difficult bit I think
18:56 trader1023: I think the current price
18:56 trader1023: As the implied open will keep changing until the SPX opens at the, in theory, implied open (if I understand it all correctly)
18:56 slashgw: SPY implied open = Prev SPY close +/-  /ES gap  ?
18:56 trader1023: Yeh think so
18:56 Mobius: /ES Fair Value is what it closed for last
18:57 trader1023: Really? I thought it didn't include all the extra interest dividend stuff
18:57 Mobius: Your looking for the Fair Value as compared to SPX
18:57 Paris: According to my notes Mobius posted a Fair Value  study way back in 2015, comparing SPX/ES 
18:57 slashgw: but nailing down the closer  ratio  between SPY and ES
18:58 Mobius: Pairs don't confuse the poor soul
18:58 trader1023: Oh right yeh sorry, the fair value of the underlying
18:58 Paris: Mohius - Gotcha, just checking in and watching the commentary. Going for my morning meetings now. Later folks
18:59 Mobius: LOL best to yah Paris
18:59 trader1023: The interest rates and dividends to expire etc. are all accessible in ToS right? Just need to interate through it all and add it all up?
19:00 Paris: And to you Mobius. Have a restful evening.
19:01 Mobius: Interest Rate is also an available variable in TOS
19:02 trader1023: ah ok
19:08 Nube: Mobius, am I reading that fair value correctly? Is that cash index multiplied by 1 + rate?
19:14 Mobius: Nube your leaving off some pretty good stuff there
19:19 DMonkey: Values
Sept S&P 500 Futures Price	1157.00 pts
 S&P 500 Cash Index	1146.00 pts
Interest Rate	5.7%
Dividends to Expiration of Futures (Converted to S&P points)	3.47 pts
Days to Expiration of the Futures Contract	 78 days
S&P 500 Dividend Yield	                       1.40%
Fair Value Calculation
Cash [1+r (x/360)] - Dividends	1146 [1+.057 (78/360)] - 3.47
= Fair Value of Futures (Final)	= 1156.68
19:21 trader1023: cool
19:24 Nube: What operation is brackets? 1146 [1+.057 (78/360)]
19:25 Nube: Thanks, Mobius. Maybe eventually I'lll even figure out what to do with that volatility stat
19:25 Nube: "start paying attention now" seems obvious
19:29 DMonkey: multiplication in this case
19:30 bigworm: its foggy out
19:30 bigworm: and I dont have a scarf
19:30 DMonkey: has been all day
19:30 bigworm: can you program me some heat?
19:31 bigworm: are you really here mobius or are you just joking about it
19:50 admin_bkTOS: 
This is a reminder that the thinkorswim chat rooms will be closing in 10 min.  Forum hours are from 5am-8pm CT Monday-Thursday, and 5am-5pm CT on Friday. Please finish your conversations before 8pm CT.
19:51 sam113355: hi how do i create a study alert for vwap
19:52 sam113355: like if a stock hits a bottom vwap, i get an alert.
20:00 admin_bkTOS: 
Thank you for using thinkorswim.  Chat Rooms are available daily from 5am-8pm CT Monday-Thursday, and 5am-5pm CT on Friday for open discussion on the markets and trade related content 
TOS platform questions?  email: support@thinkorswim.com
or check out the Learning Center, full of demos on how to use thinkorswim trading and charting tools:  http://tlc.thinkorswim.com 
------- Tuesday, October 23, 2018 -------
06:16 Nube: Bounced again right where M suggested. Looks constructive since.
06:26 slashgw: gm all
06:26 Nube: Don't get me wrong though, I'm still hoping for cheaper stocks
06:26 Nube: morning, slash.
06:31 JohnnyQuotron: Let's get ready to rumble....
06:32 JohnnyQuotron: Flash morning update: ugly everywhere; no "new" news but prior negatives weighing on
sentiment; despite awful price action today, ~2700 should be support in SPX (cycle is
peaking, but not collapsing); CAT/MMM/UTX earnings BMO and TXN AMC.
07:25 G81moyano: Hey folks.
Do you have by chance some study/script developed to identify the % of the GAP in PM/AM? if so could you share it ???
07:26 slashgw: gap is popular recently
07:26 G81moyano: in fact yes...
07:27 MTS1: How do you calculate that G8; what bars are you looking at? Is this a scan or indicator of % on a chart?
07:29 Mobius: GM all - Big picture note: If this area of support fails the next lower area is 2600 / 2620 the lower end of the trading range that started in Feb and ended in the breakout in July
07:29 MTS1: Thanks Mobius!
07:31 Mobius: There's a study on MyTrade that plots the Gap Box.
07:32 Mobius: you could plot a line at Midnight to see if the gap was larger in the morning trade or evening
07:42 Nube: That would be even better prices than I had hoped for. *greedily rubs hands together*
07:54 colorado-cliff: Does anyone know if I can read an external file (e.g. an XML file) from within a Script?
07:55 AlphaInvestor: No you cannot
07:55 MTS1: Colorado nope; you'd have to hard-code data in the script
07:55 Bossladyevy: GM new here any advice?
07:56 colorado-cliff: @MTS1 - thx. that's what I was afraid of. I have some price levels that I want to draw lines on every day. You've confirmed that I'm out of luck...and just need to do it manually instead of using a simple study file
07:59 MTS1: Boss; yes review tlc.thinkorscript.com to get started; there's TS tutorials there, and a referene to find indicators or propper syntax. Also tutorials for TOS if you're new to TOS.
------- Monday, October 22, 2018 -------
08:00 MTS1: Colorado; it can be done in a script. You just have to put the levels in per ticker accordingly. I've seen long term support/restance / fib line scripts that are hard-coded to the levels. Once you have the syntax probably easiest to build the script in XCel.
08:02 slashgw: colorado, where is your data originating?  the lines you are talking abot?
08:02 MTS1: Boss; the 'help with thinkscript' button in the editor also brings you straight to the reference, and usually any help button in TOS brings you to the appropriate tutorial page for that window.
08:04 MTS1: you scared him away slash;)
08:04 slashgw: oops.  sorry
08:04 Billions: Hi everyone does anyone have an auto fib retracement study they can share
08:05 slashgw: does it have to work?
08:05 Billions: lol of course
08:06 slashgw: hmm, okay.   that is a tough one then.
08:06 Billions: ok antbody help
08:06 slashgw: probably you can find something for use on larger timeframe.  Mobius probably has one.
08:06 Billions: tired of keep srawing them in tos
08:07 slashgw: but problem is, imo nobody has written one that works in the same methodology as how they actually trade
08:07 MTS1: Billions; Fib lines are easy to draw / calculate; the key is identifying the 0 / 100 levels; how do you logically define them?
08:08 Billions: i dont see him in the room today
08:08 MTS1: I'd look at the fractal pivots script on Mobius' MyTrade or find something that works for you for that; then add in the fib plots.
08:08 slashgw: he was here about 30 min or so ago
08:09 Billions: ok thank you ill look
08:09 slashgw: here is one that he did http://tos.mx/ZpZ9LU#
08:10 Grasul: You could use highest high (or close) and lowest low (or close) over whatever you consider to be a "long" time period.  Or keep track of particularly prominent high or low pivot points.  "Give me the last high pivot that was at least a 9 period high and the comperable low, or something like that.
08:10 slashgw: I would be interest to work with one of the better scripters here to put together one that works in the same way they are traded, if the process is able to be replicated.
08:10 Billions: ok thank you guys
08:12 slashgw: and when I say "better", I mean better than I.  I could provide the flowchart portion, but not the coding part.
08:12 Billions: @slashgw thats cool
08:13 Wally: Auto_Fib_linus, # Auto Plotted Fibonacci Study
# Mobius   http://tos.mx/gRudhk#        http://tos.mx/4jY9T7#
08:14 Mobius: The best fib study I've seen is tied to a stochastic index. That was designed by one of the better teachers from Shadow Trader. He uses it in Forex trading. The study is posted on MyTrade
08:15 slashgw: is it different than the one that I posted of yours?
08:15 AlphaInvestor: Your Mytrade?
08:15 Mobius: yes Alpha.. I wrote the code
08:15 slashgw: DH's morning screen:  https://screencast.com/t/ddzT2YooJ9
08:16 Billions: hi mobius thanks where do u get mytrade
08:17 Mobius: Bill... Right click my Name in the list of names on this chat then View Users Profile
08:20 Billions: ok gotcha thanks
08:58 hguru: Mobius what is the name of that study thx
09:02 Mobius: hg.. it's one of the studies that you have to cick on the link to see the description of. Maybe 2 or 3 down from where those start.
09:03 MTS1: "Stochstic Pivots with Fibocacci Lines"
09:03 MTS1: posted in Feb this year it looks like
09:07 JohnnyQuotron: http://tos.mx/zU09X3# to save time
09:09 Mobius: I like to push people to MyTrade because they may find studies they can use without the need to ask in here
09:10 Mobius: I will post 5 more studies and I'm done.
09:10 JohnnyQuotron: And because you know none of us has monkeyed with them?
09:14 Paris: hguru - I'm sure you already have most of the studies that Mobius had posted. Look up your inventory for a study called Gap Box.
09:16 Joebone87: hey guys.. been a while since I looked at my scripts that reference futures... I have seen some of you talk about a change in how TOS calls on them in scripts..  Im looking at my /VX futures curve and noticing that I am no longer referencing correctly.. what was the change?
09:17 JohnnyQuotron: if you are new to that stochastic pivot study, as I am, in its default config it requires 78 bars of data to paint the fibs.  No fibbin. :()
09:18 MTS1: check the name of the /vx symbol in your chart window header, and update the script.
09:18 MTS1: ^Joe
09:19 Joebone87: k thanks
09:20 Mobius: Johnny... You can use whatever lenght you wish. But a fast Stochastic of say 10 bars is going to plot Fibonacci Lines pretty close together.
09:22 hguru: Paris you are probably correct I have lots of them. Just wasn’t sure about that stoch one
09:22 Joebone87: MT.. so if i understand.. it looks like they changed futures to include the 10's spot on the year as well?
09:23 Joebone87: so /VXJ8 went to /VXJ18?
09:24 Mobius: trend starting to look  like a Missouri Boat Ride.
09:26 Mobius: contracts getting ready for /ES**20
09:26 MTS1: I believe so Joe; or /VX:XCBF it looks like to me for the continuous
09:27 MTS1: There's more info in the release notes for the prior to last release, or put them on a chart and check the window header:  
09:30 Joebone87: thanks MT
09:31 MTS1: yw
09:37 JohnnyQuotron: mobius... understood.  Thank you.  
09:38 cajun: Mobius, whats a Missouri boatride like?
09:39 MTS1: You'd thnk a fellow Cajun would know;)
09:40 Mobius: cajun - Dead men floating down river
09:43 Loew: looking for a thinkscript to scan ETF's with Treasuries yielding 5% or greater
09:45 MTS1: no scan based on ETF Holdings in TOS
09:46 cajun: Mo, lol .... yep we gots lots othem today
09:59 Loew: that's what I was thinking. Thanks for confirming MTS1.
10:08 hguru: Paris I do not have that Gap Box study I might have missed it
10:12 Mobius: hg.. Here is the Gap Box Study
http://tos.mx/mkEvEs#
10:14 hguru: Thx
10:15 Mobius: yw
10:15 Mobius: Down to 3 posts more and I'm done
10:16 MTS1: Oh; what's a 100 more between friends?
10:17 Mobius: Need about 21 more followers. Make it a round 1000 and 100 studies.
10:18 MTS1: you're not ready to retire yet are you? Concerned what would happen if you stopped trading / coding;)
10:18 Mobius: /ES Volume today is pushing 2x of the 5day avg.
10:19 Mobius: MTS1 - Time for a walkabout.
10:34 JohnnyQuotron: I've only been on a "DuckBoat" once.  It was a horrible ride even on a calm day. 
10:36 JohnnyQuotron: Tales From the Dark Side...US stocks are getting hit across the board following another morning of downbeat earnings (the SPX was down ~8.5% peak-to-trough from the recent ~2940 high although has bounced off the Tues low in part due to sanguine remarks from the CAT call which began at ~11amET). The only thing that matters for this market is earnings and the CQ3 season continues to disappoint. On an absolute basis numbers are fine and EPS estimates are “beating” the St print consensus but this doesn’t capture 1) how all the various figures compare to expectations and 2) the myriad nuances of each individual report. In the medium and long-term: the 2019 EPS consensus isn’t necessarily imperiled and remains around ~$177-179 and based on that the PE is increasingly attractive at ~15-15.5x. However, if ’20 EPS doesn’t increase from ’19 (i.e. if “peak” concerns grow more pronounced) then the PE may not have material upside potential.
10:40 cajun: Mobius, your followers are so devoted, each of us is worth about 50 no 100 of anothers follower
10:45 inbuffalo: Need 1 less folowwer
10:45 DMonkey: Lol. Mobius will 100 be the nn....?
10:47 bigworm: does he relase srudies the move followers he has lol
10:49 Paris: In case anyone else was wondering, the Gap Box that Mobius posted above is a revised version from the version he posted in August 2017. I'm tagging this as V3 in my archives.
10:51 Paris: Time for some shut eye. Later folks
10:51 JohnnyQuotron: Nite Paris...
10:51 dokk408: im trying to use GetMarketMakerMove but it returns NA... anyone know how to get it working?
10:53 Nube: Missouri boat ride. A fact known to is northerners is that the Mississippi River south because Iowa sucks.
10:54 Nube: Bah, Missouri sucks. Another blown joke.
11:09 MTS1: Dokk; MMM may only be around upcoming events; try a ticker that has earnings coming up
11:11 hguru: Paris thx for the Gap Box update info
